-- ROI Goals & supplemental indexes
CREATE TABLE ROI_GOALS (
    ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    CAMPAIGN_ID NUMBER NOT NULL,
    TARGET_ROI_PCT NUMBER(9,4),
    TARGET_MARGIN_PCT NUMBER(9,4),
    CREATED_AT TIMESTAMP DEFAULT SYSTIMESTAMP NOT NULL,
    UPDATED_AT TIMESTAMP,
    UNIQUE (CAMPAIGN_ID)
);

CREATE INDEX IDX_CAMPAIGN_COSTS_CAT_DATE ON CAMPAIGN_COSTS (CATEGORY_CODE, COST_DATE);
CREATE INDEX IDX_COST_ALLOC_PERIOD ON COST_ALLOCATIONS (PERIOD_START, PERIOD_END);
